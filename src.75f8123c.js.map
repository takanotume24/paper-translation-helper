{"version":3,"sources":["helper/helper.ts","index.ts"],"names":[],"mappings":"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","file":"src.75f8123c.js","sourceRoot":"../src","sourcesContent":["import { Type } from \"../type/type\"\n\nexport module Helper {\n    export function delete_last_period(arr: Type.columns): Type.columns {\n        const last_arr = arr.pop()\n        if (!last_arr) {\n            return arr\n        }\n\n        const last_word = last_arr.pop()\n\n        if (!last_word) {\n            arr.push(last_arr)\n            return arr\n        }\n\n        const last_word_replaced = last_word.replace(/\\.\\n$/, \"\")\n\n        last_arr.push(last_word_replaced)\n        arr.push(last_arr)\n\n        return arr\n    }\n\n    export function delete_last_empty_string(arr: Type.columns): Type.columns {\n        const last_arr = arr.pop()\n        if (!last_arr) {\n            return arr\n        }\n\n        const last_word = last_arr.pop()\n\n        if (!last_word) {\n            arr.push(last_arr)\n            return arr\n        }\n\n        if (last_word === \"\\n\" || last_word === \"\") {\n            arr.push(last_arr)\n            return arr\n        }\n\n        else {\n            last_arr.push(last_word)\n            arr.push(last_arr)\n            return arr\n        }\n    }\n}\n","import { Helper } from \"../src/helper/helper\"\nimport { Type } from \"../src/type/type\"\n\nclass OriginalInputHandler {\n    private char_limit: number\n\n\n    constructor() {\n        this.char_limit = 4500\n        var original_element = document.getElementById(\"original\") as HTMLInputElement;\n        this.showResult(original_element);\n    }\n\n    public doWork = () => {\n        var original_element = document.getElementById(\"original\") as HTMLInputElement;\n        this.showResult(original_element);\n    }\n\n\n\n    private showResult(original_element: HTMLInputElement) {\n        const char_limit_element = document.getElementById(\"char_limit\") as HTMLInputElement\n        this.char_limit = Number(char_limit_element.value)\n        if (this.char_limit < 1000) {\n            this.char_limit = 1000\n            char_limit_element.value = \"1000\"\n        }\n\n        var converted_element = document.getElementById(\"converted\");\n        if (!converted_element) {\n            return;\n        }\n\n        var source = original_element.value;\n        if (!source) {\n            return\n        }\n        source = source.replace(/-\\n/g, \"\")\n        source = source.replace(/\\n/g, \" \")\n        source = source.replace(/- /g, \"\")\n        source = source.replace(/Fig\\. /g, \"Fig.\")\n        source = source.replace(/Figs\\. /g, \"Figs.\")\n        source = source.replace(/No\\. /g, \"No.\")\n        source = source.replace(/Prof\\. /g, \"Prof.\")\n        source = source.replace(/Eq\\. /g, \"Eq.\")\n        source = source.replace(/et al\\. /g, \"et al.\")\n        source = source.replace(/Dr\\. /g, \"Dr.\")\n        source = source.replace(/e\\.g\\. /g, \"e.g.\")\n        source = source.replace(/i\\.e\\. /g, \"i.e.\")\n        source = source.replace(/Sec\\. /g, \"Sec.\")\n        source = source.replace(/Sect\\. /g, \"Sect.\")\n        source = source.replace(/I\\. /g, \"I.\")\n        source = source.replace(/II\\. /g, \"II.\")\n        source = source.replace(/III\\. /g, \"III.\")\n        source = source.replace(/IV\\. /g, \"IV.\")\n        source = source.replace(/V\\. /g, \"V.\")\n        source = source.replace(/VI\\. /g, \"VI.\")\n        source = source.replace(/VII\\. /g, \"VII.\")\n        source = source.replace(/VIII\\. /g, \"VIII.\")\n        source = source.replace(/IX\\. /g, \"IX.\")\n        source = source.replace(/X\\. /g, \"X.\")\n        source = source.replace(/2\\.4 GHz/g, \"2.4GHz\") // とりあえず\n        source = source.replace(/\\.[\\d+](?= [A-Z])/g, \"[$&]. \") //for \"Neurology\"\n        source = source.replace(/\\.[\\d+,]+[\\d+](?= [A-Z])/g, \"[$&]. \") //for \"Neurology\"\n        source = source.replace(/\\.[\\d+]–[\\d+](?= [A-Z])/g, \"[$&]. \") //for \"Neurology\", \"–\" is dash\n\n        const strings = source.split(\". \").map(str => `${str}.\\n`)\n        var results: Type.columns = this.split_array(strings)\n\n        converted_element.innerHTML = this.show_boxes(results)\n    }\n\n    private show_boxes(stringss: Type.columns): string {\n        var result = \"\"\n        var i = 0\n        stringss.forEach(strings => {\n            result += this.in_box(strings.join(\"\"), i++)\n        })\n        return result\n    }\n    \n    private in_box(string: string, column_num: number): string {\n        const text_area_id = `\"text_area_${column_num}\"`\n        return `<li class=\"list-group-item\">\n            <label for=${text_area_id}>\n                No.${column_num}, Number of characters : ${string.length}\n            </label>\n            <textarea class=\"form-control\" id=${text_area_id}>${string}</textarea></li>`\n    }\n\n    private split_array(strings: Type.strings): Type.columns {\n\n        var char_count = 0\n        var results = []\n        var i = 0\n\n        while (i < strings.length) {\n            var new_array: Type.strings = []\n            while (char_count < this.char_limit) {\n                if (strings.length <= i) {\n                    break\n                }\n                if (char_count + strings[i].length > this.char_limit) {\n                    break\n                }\n                new_array.push(strings[i])\n                char_count += strings[i].length\n                i++\n\n            }\n            char_count = 0\n            results.push(new_array)\n        }\n        const results_deleted_period = Helper.delete_last_period(results)\n        const results_deleted_empty_string = Helper.delete_last_empty_string(results_deleted_period)\n        return results_deleted_empty_string\n    }\n}\n\nwindow.onload = () => {\n    var handler = new OriginalInputHandler();\n    document.getElementById(\"original\")?.addEventListener(\"input\", handler.doWork);\n    document.getElementById(\"char_limit\")?.addEventListener(\"change\", handler.doWork)\n};\n"]}